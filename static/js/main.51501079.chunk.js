(this["webpackJsonpauth-chat"]=this["webpackJsonpauth-chat"]||[]).push([[0],{38:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(28),s=a.n(c),r=a(9),i=a(10),l=a(21),o=a(29),d=Object(o.a)({apiKey:"AIzaSyDQagV2cS8MCAtkrT93nEP9SjGke_R053c",authDomain:"react-auth-rrv6-a2001.firebaseapp.com",projectId:"react-auth-rrv6-a2001",storageBucket:"react-auth-rrv6-a2001.appspot.com",messagingSenderId:"198399012916",appId:"1:198399012916:web:26e20c3a394485d657da61"}),j=Object(l.b)(d),b=a(5),u=Object(n.createContext)();function m(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!0),o=Object(i.a)(r,2),d=o[0],m=o[1];Object(n.useEffect)((function(){return Object(l.c)(j,(function(e){s(e),m(!1)}))}),[]);var p=Object(n.useState)({signUpModal:!1,signInModal:!1}),h=Object(i.a)(p,2),O=h[0],x=h[1];return Object(b.jsx)(u.Provider,{value:{modalState:O,toggleModals:function(e){"signIn"===e?x({signUpModal:!1,signInModal:!0}):"signUp"===e?x({signUpModal:!0,signInModal:!1}):"close"===e&&x({signUpModal:!1,signInModal:!1})},signUp:function(e,t){return Object(l.a)(j,e,t)},signIn:function(e,t){return Object(l.d)(j,e,t)},currentUser:c},children:!d&&e.children})}function p(){var e=Object(n.useContext)(u).currentUser;return Object(b.jsx)("div",{className:"container p-3",children:Object(b.jsx)("h1",{className:"display-2 text-light",children:e?"Hi buddy !":"Hi , Sign-up or Sign-in !"})})}var h=a(0),O=a.n(h),x=a(2),v=a(18);a(4);function g(){var e=Object(n.useContext)(u),t=(e.modalState,e.toggleModals),a=Object(r.n)(),c=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.e)(j);case 3:a("/"),console.log("vous avez bien \xe9t\xe9 d\xe9connect\xe9 !"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("impossible de se d\xe9conecter, erreur: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("nav",{className:"navbar-light navbar bg-light px-4",children:[Object(b.jsx)(v.b,{to:"/",className:"navbar-brand",children:"AuthJs"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){return t("signIn")},className:"btn btn-primary",children:"Sign In"}),Object(b.jsx)("button",{onClick:function(){return t("signUp")},className:"btn btn-primary ms-2",children:"Sign Up"}),Object(b.jsx)("button",{onClick:c,className:"btn btn-danger ms-2",children:"Log Out"})]})]})}function f(){var e=Object(n.useContext)(u),t=e.modalState,a=e.toggleModals,c=e.signUp,s=Object(n.useRef)([]),l=function(e){e&&!s.current.includes(e)&&s.current.push(e)},o=Object(n.useRef)([]),d=Object(n.useState)(""),j=Object(i.a)(d,2),m=j[0],p=j[1],h=Object(r.n)(),v=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(s),!((s.current[1].value.length||s.current[2].value.length)<6)){e.next=7;break}return p("6 caracteres minimum"),e.abrupt("return");case 7:if(s.current[1].value===s.current[2].value){e.next=10;break}return p("Password do not match"),e.abrupt("return");case 10:return e.prev=10,e.next=13,c(s.current[0].value,s.current[1].value);case 13:n=e.sent,o.current.reset(),p(""),console.log(n),a("close"),h("/private/private-home"),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(10),console.dir(e.t0),"auth/invalid-email"===e.t0.code?p("format email invalide"):"auth/email-already-in-use"===e.t0.code&&p("cet email existe d\xe9ja");case 25:case"end":return e.stop()}}),e,null,[[10,21]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){p(""),a("close")};return Object(b.jsx)(b.Fragment,{children:t.signUpModal&&Object(b.jsxs)("div",{className:"position-fixed top-0 vw-100 vh-100",children:[Object(b.jsx)("div",{onClick:g,className:"w-100 h-100 bg-dark bg-opacity-75"}),Object(b.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle p-2 rounded",style:{minWidth:"400px",backgroundColor:"white"},children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",children:"Sign Up"}),Object(b.jsx)("button",{onClick:g,className:"btn-close"})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("form",{ref:o,onSubmit:v,className:"sign-up-form",children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{className:"form-label",htmlFor:"signUpEmail",children:"Email adress"}),Object(b.jsx)("input",{ref:l,type:"email",name:"email",id:"signUpEmail",required:!0,className:"form-control"})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{className:"form-label",htmlFor:"SignUpPwd",children:"password"}),Object(b.jsx)("input",{ref:l,type:"password",name:"pwd",id:"SignUpPwd",required:!0,className:"form-control"})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{className:"form-label",htmlFor:"repeatPwd",children:"Repeat password"}),Object(b.jsx)("input",{ref:l,type:"password",name:"pwd",id:"repeatPwd",required:!0,className:"form-control"}),Object(b.jsx)("p",{className:"text-danger mt-1",children:m})]}),Object(b.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})})]})})})]})})}function N(){var e=Object(n.useContext)(u),t=e.modalState,a=e.toggleModals,c=e.signIn,s=Object(n.useRef)([]),l=function(e){e&&!s.current.includes(e)&&s.current.push(e)},o=Object(n.useRef)([]),d=Object(n.useState)(""),j=Object(i.a)(d,2),m=j[0],p=j[1],h=Object(r.n)(),v=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,c(s.current[0].value,s.current[1].value);case 4:n=e.sent,console.log(n),o.current.reset(),p(""),a("close"),h("/private/private-home"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),p("Oups! email et/ou mot de passe incorrect(s).");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){p(""),a("close")};return Object(b.jsx)(b.Fragment,{children:t.signInModal&&Object(b.jsxs)("div",{className:"position-fixed top-0 vw-100 vh-100",children:[Object(b.jsx)("div",{onClick:g,className:"w-100 h-100 bg-dark bg-opacity-75"}),Object(b.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle p-2 rounded",style:{minWidth:"400px",backgroundColor:"white"},children:Object(b.jsx)("div",{className:"modal-dialog",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsxs)("div",{className:"modal-header",children:[Object(b.jsx)("h5",{className:"modal-title",children:"Sign In"}),Object(b.jsx)("button",{onClick:g,className:"btn-close"})]}),Object(b.jsx)("div",{className:"modal-body",children:Object(b.jsxs)("form",{ref:o,onSubmit:v,className:"sign-up-form",children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{className:"form-label",htmlFor:"signInEmail",children:"Email adress"}),Object(b.jsx)("input",{ref:l,type:"email",name:"email",id:"signInEmail",required:!0,className:"form-control"})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{className:"form-label",htmlFor:"SignInPwd",children:"password"}),Object(b.jsx)("input",{ref:l,type:"password",name:"pwd",id:"SignInPwd",required:!0,className:"form-control"})]}),Object(b.jsx)("p",{className:"text-danger mt-1",children:m}),Object(b.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})})]})})})]})})}function w(){var e=Object(n.useContext)(u).currentUser;return console.log("priv\xe9e",e),e||r.a,Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(r.b,{})})}var S=a.p+"static/media/horse.f87e5d74.gif";function y(){return Object(b.jsxs)("div",{className:"container-p-5",children:[Object(b.jsx)("h1",{className:"display-3 text-light mb-4",children:"Home Sweet Private Home !"}),Object(b.jsx)("img",{src:S,alt:"horse"})]})}var k=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,{}),Object(b.jsx)(N,{}),Object(b.jsx)(g,{}),Object(b.jsxs)(r.e,{children:[Object(b.jsx)(r.c,{path:"/",element:Object(b.jsx)(p,{})}),Object(b.jsx)(r.c,{path:"/private",element:Object(b.jsx)(w,{}),children:Object(b.jsx)(r.c,{path:"/private/private-home",element:Object(b.jsx)(y,{})})})]})]})};s.a.render(Object(b.jsx)(v.a,{children:Object(b.jsx)(m,{children:Object(b.jsx)(k,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.51501079.chunk.js.map